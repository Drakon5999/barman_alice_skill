# Навык Алисы "Бармен Гарри"

## Описание
Навык может подсказать рецепты коктейлей (пока только из официального списка IBA) по их названию, найти коктейли содержащие какой-либо ингридиент или вывести краткую справку по тому, как пить алкогольные напитки в чистом виде.

## Используемые технологии
Навык реализован на языке Python3.
При реализации использовались PyMorphy, Flask и другие библиотеки.

Поддерживается запуск как в виде web сервера, так и сборка навыка при помощи утилиты make для запуска посредством Yandex Cloud Functions.

Для ручного тестирования поддерживается интерфейс командной строки, запуск автоматических тестов осуществляется посредством библиотеки unittest.

## Демо
Навык доступен по ссылке: https://dialogs.yandex.ru/store/skills/a6ccfcd2-barmen-garri

Видео-демонстрация доступна по ссылке: https://yadi.sk/i/UOQ_cVxkxrd4Yg

## Процесс работы программы
1. Инициализация данных, нормализация названий при помощи PyMorphy
1. (Опционально) запуск веб сервера на Flask
1. Получение запроса пользователя в функцию api.handle_dialog и нормализация слов из запроса при помощи PyMorphy
1. Поиск подходящего обработчика запроса из файла sources.request_handler
1. Разбор запроса, формирование ответа и подсказок, возврат результата пользователю 

## Как запустить?
#### Для запуска тестов необходимо выполнить

```
pip install -r requirements.txt
python test.py
```

#### Для запуска в командной строке необходимо выполнить

```
pip install -r requirements.txt
python cli_client.py
```

#### Для запуска веб сервера необходимо выполнить

```
pip install -r requirements.txt
python http_server.py
```
Документация по запуску навыка Алисы https://yandex.ru/dev/dialogs/alice/doc/about-docpage/

#### Для запуска бота на Yandex Cloud Functions необходимо выполнить

```
make
```
Далее перенести архив dist.zip на Yandex Object Storage и после указать его в качестве исходного кода в консоли Yandex Cloud Functions.

Подробная инструкция тут https://cloud.yandex.ru/docs/functions/solutions/alice-skill


## Todo:
- Добавить больше коктейлей
- Добавить подсказки о возможности узнать случайный коктейль
- Добавить случайные факты о коктейлях
- Улучшить скорость работы поиска коктейлей по неточному совпадению
- Добавить крепкость для коктейлей
- Добавить генерацию случайных подсказок
- Добавить нормальное склонение в подсказках типа "коктейли с джин"
